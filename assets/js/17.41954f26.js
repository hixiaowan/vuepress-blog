(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{579:function(t,e,a){"use strict";a.r(e);var r=a(17),i=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h5",{attrs:{id:"什么是缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是缓存"}},[t._v("#")]),t._v(" 什么是缓存")]),t._v(" "),a("p",[t._v("缓存是一种保存资源副本并在下次请求时直接使用该副本的技术（读取本地磁盘内容）。")]),t._v(" "),a("h5",{attrs:{id:"浏览器缓存的优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器缓存的优点"}},[t._v("#")]),t._v(" 浏览器缓存的优点")]),t._v(" "),a("ol",[a("li",[t._v("减少冗余的数据传输（流量消耗）")]),t._v(" "),a("li",[t._v("减少服务器负担（压力）")]),t._v(" "),a("li",[t._v("加快客户端网页加载的速度（优化用户体验）")])]),t._v(" "),a("h5",{attrs:{id:"http-cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-cache"}},[t._v("#")]),t._v(" HTTP Cache")]),t._v(" "),a("ul",[a("li",[t._v("如何精准的感知变化（从时间与内容两个维度入手）\n"),a("ul",[a("li",[t._v("因为并不是所有资源都是永久不变的：重要的是对一个资源的缓存应截止到其下一次发生改变（即不能缓存过期的资源）。")]),t._v(" "),a("li",[t._v("==资源副本是包含头信息的吗？==")])])]),t._v(" "),a("li",[t._v("缓存分类及原理\n"),a("ul",[a("li",[t._v("强缓存（命中状态码 200）\n"),a("ul",[a("li",[t._v("在过期时间之前不会与服务器通信，直接读取客户端缓存")]),t._v(" "),a("li",[t._v("Expires 绝对时间（时间戳）")]),t._v(" "),a("li",[t._v("Cache-Control 相对时间（时间长度）\n"),a("ul",[a("li",[t._v("no-cache")]),t._v(" "),a("li",[t._v("max-age")])])])])]),t._v(" "),a("li",[t._v("协商缓存（命中状态码 304）\n"),a("ul",[a("li",[t._v("到了过期时间（强缓存未命中或者请求头设置不走强缓存），客户端就需要与服务器通信，询问资源是否真的过期")]),t._v(" "),a("li",[t._v("Last-Modified/If-Modified-Since 上次修改时间")]),t._v(" "),a("li",[t._v("Etag/If-None-Match 一串 hash 码，代表一个资源的标识符")])])])])])]),t._v(" "),a("h5",{attrs:{id:"注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),a("ul",[a("li",[t._v("强缓存选 Cache-Control 而不是 Expires\n"),a("ul",[a("li",[t._v("由于 Expires 是一个绝对时间，而且客户端时间可自行更改，所以当服务器与客户端时间偏差较大时，就会导致缓存混乱。")]),t._v(" "),a("li",[t._v("Cache-Control:max-age 是一个时间长度（单位 s）,不依赖客户端时间")]),t._v(" "),a("li",[t._v("如果同时出现 Cache-Control:max-age 和 Expires，那么 max-age 优先级更高。")])])]),t._v(" "),a("li",[t._v("协商缓存要有 Etag 而不仅仅是 Last-Modified\n"),a("ul",[a("li",[t._v("如果文件的修改频率在秒级以下，Last-Modified/If-Modified-Since 会错误地返回 304")]),t._v(" "),a("li",[t._v("如果文件被修改了，但是内容没有任何变化的时候，Last-Modified/If-Modified-Since 会错误地返回 304")]),t._v(" "),a("li",[t._v("etag 会基于资源的内容编码生成一串唯一的标识字符串，只要内容不同，就会生成不同的 etag。")])])])]),t._v(" "),a("h5",{attrs:{id:"关键词"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关键词"}},[t._v("#")]),t._v(" 关键词")]),t._v(" "),a("p",[t._v("web 性能优化")]),t._v(" "),a("h5",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 缓存"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000008956069",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP 强缓存和协商缓存"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/fb59c770160c",target:"_blank",rel:"noopener noreferrer"}},[t._v("强缓存和协商缓存"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.cn/post/6844904153043435533",target:"_blank",rel:"noopener noreferrer"}},[t._v("图解 HTTP 缓存"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=i.exports}}]);